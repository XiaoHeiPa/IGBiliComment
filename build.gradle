plugins {
    id 'java'
    id "com.github.weave-mc.weave-gradle" version "649dba7468"
    id "com.github.johnrengelman.shadow" version "8.0.0"
}

group = 'org.cubewhy.stream'
version = '1.0-SNAPSHOT'

minecraft.version("1.8.9")

configurations {
    include
    implementation.extendsFrom(include)
}

repositories {
    maven { url = "https://jitpack.io" }
    maven { url = "https://repo.spongepowered.org/maven/" }
    mavenCentral()
}

dependencies {
    compileOnly 'org.projectlombok:lombok:1.18.30'
    annotationProcessor 'org.projectlombok:lombok:1.18.30'

    include 'com.squareup.okhttp3:okhttp:4.12.0'
    implementation 'com.google.code.gson:gson:2.2.4'

    compileOnly "com.github.weave-mc:weave-loader:v0.2.4"
    compileOnly "org.spongepowered:mixin:0.8.5"
}

shadowJar {
    archiveClassifier.set("fatjar")
    configurations = [project.configurations.include]
    duplicatesStrategy DuplicatesStrategy.EXCLUDE

    exclude "native-binaries/**"

    exclude "LICENSE.txt"
}


jar.dependsOn(shadowJar)
